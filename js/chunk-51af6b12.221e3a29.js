(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51af6b12"],{"7a22":function(t,e,a){"use strict";var i=a("dd9b"),r=a.n(i);r.a},c0fe:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"product-modify"}},[a("form",{on:{submit:t.onCancel}},[a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("h3",[t._v(t._s(t.titlePage)+" Product")]),a("div",{staticClass:"d-flex"},[a("router-link",{staticClass:"btn",attrs:{to:{path:t.cancelURL}}},[t._v("Cancel")]),a("button",{staticClass:"btn btn-success",attrs:{type:"submit"},on:{click:t.onSave}},[t._v(" "+t._s(t.titleBtn)+" ")])],1)]),a("div",{staticClass:"card mt-3"},[t._m(0),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group",attrs:{role:"group"}},[a("label",{attrs:{for:"uid-qvk4gvm5sa"}},[t._v("ID *")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter product name",required:"",disabled:""},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group",attrs:{role:"group"}},[a("label",{attrs:{for:"uid-qvk4gvm5sa"}},[t._v("Name *")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter product name",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group",attrs:{role:"group"}},[a("label",{attrs:{for:"uid-qvk4gvm5sa"}},[t._v("Type *")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter product type",required:""},domProps:{value:t.type},on:{input:function(e){e.target.composing||(t.type=e.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group",attrs:{role:"group"}},[a("label",{attrs:{for:"uid-qvk4gvm5sa"}},[t._v("Orders *")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.orders,expression:"orders"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Enter product type"},domProps:{value:t.orders},on:{input:function(e){e.target.composing||(t.orders=e.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group",attrs:{role:"group"}},[a("label",{attrs:{for:"uid-qvk4gvm5sa"}},[t._v("Warranty Period(month):")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.warrantyPeriod,expression:"warrantyPeriod"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Enter warranty period"},domProps:{value:t.warrantyPeriod},on:{input:function(e){e.target.composing||(t.warrantyPeriod=e.target.value)}}})])])])])]),a("div",{staticClass:"card mt-3"},[t._m(1),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group",attrs:{role:"group"}},[a("label",{attrs:{for:"uid-qvk4gvm5sa"}},[t._v("Smallest Specifications")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.specifications.smallestSpec,expression:"specifications.smallestSpec"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter Smallest Specifications"},domProps:{value:t.specifications.smallestSpec},on:{input:function(e){e.target.composing||t.$set(t.specifications,"smallestSpec",e.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group",attrs:{role:"group"}},[a("label",{attrs:{for:"uid-qvk4gvm5sa"}},[t._v("Smallest Unit")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.specifications.unit,expression:"specifications.unit"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter Smallest Specifications Unit"},domProps:{value:t.specifications.unit},on:{input:function(e){e.target.composing||t.$set(t.specifications,"unit",e.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group",attrs:{role:"group"}},[a("label",{attrs:{for:"uid-qvk4gvm5sa"}},[t._v("Smallest Specifications Weight")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.specifications.weight,expression:"specifications.weight"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter Smallest Specifications Weight"},domProps:{value:t.specifications.weight},on:{input:function(e){e.target.composing||t.$set(t.specifications,"weight",e.target.value)}}})])])])])]),a("div",{staticClass:"card mt-3"},[t._m(2),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group",attrs:{role:"group"}},[a("label",{attrs:{for:"uid-qvk4gvm5sa"}},[t._v("Wholesale")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.price.wholesale,expression:"price.wholesale"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter product name"},domProps:{value:t.price.wholesale},on:{input:function(e){e.target.composing||t.$set(t.price,"wholesale",e.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group",attrs:{role:"group"}},[a("label",{attrs:{for:"uid-qvk4gvm5sa"}},[t._v("Retail")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.price.retail,expression:"price.retail"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter product name"},domProps:{value:t.price.retail},on:{input:function(e){e.target.composing||t.$set(t.price,"retail",e.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group",attrs:{role:"group"}},[a("label",{attrs:{for:"uid-qvk4gvm5sa"}},[t._v("Distribution")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.price.distribution,expression:"price.distribution"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter product type"},domProps:{value:t.price.distribution},on:{input:function(e){e.target.composing||t.$set(t.price,"distribution",e.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group",attrs:{role:"group"}},[a("label",{attrs:{for:"uid-qvk4gvm5sa"}},[t._v("Agent")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.price.agent,expression:"price.agent"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter product type"},domProps:{value:t.price.agent},on:{input:function(e){e.target.composing||t.$set(t.price,"agent",e.target.value)}}})])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"form-group",attrs:{role:"group"}},[a("label",{attrs:{for:"uid-qvk4gvm5sa"}},[t._v("Smallest specifications")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.price.smallestSpec,expression:"price.smallestSpec"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter product type"},domProps:{value:t.price.smallestSpec},on:{input:function(e){e.target.composing||t.$set(t.price,"smallestSpec",e.target.value)}}})])])])])])]),a("Modals",{attrs:{warningModal:t.modalShow,message:t.modalMessage,title:"Cancel"}})],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("strong",[t._v("General Information")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("strong",[t._v("Specifications")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("strong",[t._v("Price Information")])])}],s=a("e0eb"),o=a.n(s),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"modal-confirm"}},[a("CModal",{attrs:{color:"warning",show:t.warningModal},on:{"update:show":function(e){t.warningModal=e}}},[t._v(" "+t._s(t.message)+" "+t._s(t.confirmModal)+" ")])],1)},c=[],n={name:"Modals",props:{warningModal:Boolean,message:String,title:String},data:function(){return{confirmModal:JSON.parse(this.warningModal)}}},d=n,p=a("2877"),u=Object(p["a"])(d,l,c,!1,null,null,null),m=u.exports,v=a("c05e"),f={name:"product-modify",components:{Modals:m},data:function(){return{modalShow:!1,modalMessage:"Your changes could not be saved if you choose to leave.",titlePage:null,titleBtn:null,cancelURL:null,modifyMode:null,validated:!1,submitted:!1,lastID:null,id:null,name:null,type:null,orders:0,warrantyPeriod:null,price:{wholesale:0,retail:0,distribution:0,agent:0,smallestSpec:0},specifications:{smallestSpec:null,unit:null,weight:null}}},beforeRouteEnter:function(t,e,a){var i=0;t.params.id?v["a"].collection("products").where("id","==",t.params.id).get().then((function(t){t.forEach((function(t){a((function(e){e.modifyMode="edit",e.titlePage="Edit",e.titleBtn="Save",e.id=t.data().id,e.cancelURL="/products/"+e.id,e.name=t.data().name,e.type=t.data().type,e.orders=t.data().orders?t.data().orders:0,e.price.wholesale=t.data().price?t.data().price.wholesale:0,e.price.retail=t.data().price?t.data().price.retail:0,e.price.distribution=t.data().price?t.data().price.distribution:0,e.price.agent=t.data().price?t.data().price.agent:0,e.price.smallestSpec=t.data().price?t.data().price.smallestSpec:0}))}))})):v["a"].collection("products").get().then((function(t){t.forEach((function(){i++,a((function(t){t.modifyMode="create",t.titlePage="Create",t.titleBtn="Create",t.id=o.a.generateID("product",i+1),t.cancelURL="/products"}))}))}))},watch:{$route:"fetchDatam, getLastID"},methods:{fetchData:function(){var t=this;v["a"].collection("products").where("id","==",this.$route.params.id).get().then((function(e){e.forEach((function(e){t.id=e.data().id,t.name=e.data().name,t.type=e.data().type,t.orders=e.data().orders,t.orders=e.data().orders?e.data().orders:0,t.price.wholesale=e.data().price?e.data().price.wholesale:0,t.price.retail=e.data().price?e.data().price.retail:0,t.price.distribution=e.data().price?e.data().price.distribution:0,t.price.agent=e.data().price?e.data().price.agent:0,t.price.smallestSpec=e.data().price?e.data().price.smallestSpec:0}))}))},onCancel:function(){this.$router.push(this.cancelURL)},onSave:function(){var t=this;if(this.submitted=!0,!(this.id&&this.name&&this.type))return this.submitted=!0,void(this.validated=!1);if(this.validated=!0,this.submitted&&this.validated)switch(this.modifyMode){case"create":v["a"].collection("products").add({id:this.id,name:this.name,type:this.type,orders:this.orders?this.orders:0,price:{wholesale:this.price.wholesale?this.price.wholesale:0,retail:this.price.retail?this.price.retail:0,distribution:this.price.distribution?this.price.distribution:0,agent:this.price?this.price.agent:0,smallestSpec:this.price?this.price.smallestSpec:0}}).then((function(){t.$router.push("/products/"+t.id)}));break;case"edit":v["a"].collection("products").where("id","==",this.id).get().then((function(e){e.forEach((function(e){e.ref.update({name:t.name,type:t.type,orders:t.orders?t.orders:0,price:{wholesale:t.price.wholesale?t.price.wholesale:0,retail:t.price.retail?t.price.retail:0,distribution:t.price.distribution?t.price.distribution:0,agent:t.price?t.price.agent:0,smallestSpec:t.price?t.price.smallestSpec:0}}),t.$router.push("/products/"+t.id)}))}));break}}}},g=f,h=(a("7a22"),Object(p["a"])(g,i,r,!1,null,"1f53c1cc",null));e["default"]=h.exports},dd9b:function(t,e,a){},e0eb:function(t,e){t.exports={generateID:function(t,e){var a="K",i="product"===t?"P":"",r=e<9?"000"+e:e<99?"00"+e:e<999?"0"+e:e;return a+i+r}}}}]);
//# sourceMappingURL=chunk-51af6b12.221e3a29.js.map